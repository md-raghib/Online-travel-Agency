
var uri;
var object;

function myfunc(){
			var api='https://api.railwayapi.com/v2/route/train/';
			var apikey='mmn6ph5itn';
			var train =document.getElementById("trainnumber").value;
			uri = api + train + '/apikey/' + apikey ;
			loadDoc();
		}
function loadDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      object = this.responseText;
      console.log(object);
      var myobject = {"response_code": 200, "route": [{"schdep": "20:10", "day": 1, "scharr": "SOURCE", "station": {"lat": 25.6206672, "lng": 85.04932529999999, "code": "DNR", "name": "DANAPUR"}, "halt": -1, "distance": 0.0, "no": 1}, {"schdep": "20:41", "day": 1, "scharr": "20:39", "station": {"lat": 30.5313977, "lng": -97.7795328, "code": "ARA", "name": "ARA"}, "halt": 2, "distance": 39.0, "no": 2}, {"schdep": "21:27", "day": 1, "scharr": "21:25", "station": {"lat": 25.5647103, "lng": 83.9777482, "code": "BXR", "name": "BUXAR"}, "halt": 2, "distance": 108.0, "no": 3}, {"schdep": "23:24", "day": 1, "scharr": "23:14", "station": {"lat": 26.499141, "lng": 80.31235989999999, "code": "DDU", "name": "PT.DEEN DAYAL UPADHYAYA JN."}, "halt": 10, "distance": 201.0, "no": 4}, {"schdep": "00:30", "day": 2, "scharr": "00:25", "station": {"lat": 25.1336987, "lng": 82.5644344, "code": "MZP", "name": "MIRZAPUR"}, "halt": 5, "distance": 265.0, "no": 5}, {"schdep": "02:00", "day": 2, "scharr": "01:50", "station": {"lat": 25.378389, "lng": 81.865285, "code": "ACOI", "name": "ALLAHABD CHHEOKI"}, "halt": 10, "distance": 341.0, "no": 6}, {"schdep": "05:10", "day": 2, "scharr": "05:00", "station": {"lat": 24.6005075, "lng": 80.8322428, "code": "STA", "name": "SATNA"}, "halt": 10, "distance": 517.0, "no": 7}, {"schdep": "05:35", "day": 2, "scharr": "05:33", "station": {"lat": 24.2693596, "lng": 80.7566514, "code": "MYR", "name": "MAIHAR"}, "halt": 2, "distance": 552.0, "no": 8}, {"schdep": "06:25", "day": 2, "scharr": "06:20", "station": {"lat": 23.8308453, "lng": 80.4072255, "code": "KTE", "name": "KATNI"}, "halt": 5, "distance": 615.0, "no": 9}, {"schdep": "08:05", "day": 2, "scharr": "07:55", "station": {"lat": 23.181467, "lng": 79.9864071, "code": "JBP", "name": "JABALPUR"}, "halt": 10, "distance": 706.0, "no": 10}, {"schdep": "09:18", "day": 2, "scharr": "09:16", "station": {"lat": 22.946557, "lng": 79.1943534, "code": "NU", "name": "NARSINGHPUR"}, "halt": 2, "distance": 790.0, "no": 11}, {"schdep": "10:25", "day": 2, "scharr": "10:23", "station": {"lat": 22.7622132, "lng": 78.3486781, "code": "PPI", "name": "PIPARIYA"}, "halt": 2, "distance": 883.0, "no": 12}, {"schdep": "12:45", "day": 2, "scharr": "12:35", "station": {"lat": 22.6054858, "lng": 77.75354399999999, "code": "ET", "name": "ITARSI JN"}, "halt": 10, "distance": 951.0, "no": 13}, {"schdep": "13:53", "day": 2, "scharr": "13:51", "station": {"lat": 22.1240168, "lng": 77.9995589, "code": "GDYA", "name": "GHORADONGRI"}, "halt": 2, "distance": 1021.0, "no": 14}, {"schdep": "14:39", "day": 2, "scharr": "14:36", "station": {"lat": 21.9011601, "lng": 77.8960201, "code": "BZU", "name": "BETUL"}, "halt": 3, "distance": 1057.0, "no": 15}, {"schdep": "15:55", "day": 2, "scharr": "15:53", "station": {"lat": 21.5925296, "lng": 78.5291706, "code": "PAR", "name": "PANDHURNA"}, "halt": 2, "distance": 1144.0, "no": 16}, {"schdep": "18:10", "day": 2, "scharr": "17:55", "station": {"lat": 21.1458004, "lng": 79.0881546, "code": "NGP", "name": "NAGPUR"}, "halt": 15, "distance": 1248.0, "no": 17}, {"schdep": "19:04", "day": 2, "scharr": "19:02", "station": {"lat": 20.7349924, "lng": 78.66256700000001, "code": "SEGM", "name": "SEVAGRAM"}, "halt": 2, "distance": 1324.0, "no": 18}, {"schdep": "21:10", "day": 2, "scharr": "21:07", "station": {"lat": 19.9704597, "lng": 79.30148450000002, "code": "CD", "name": "CHANDRAPUR"}, "halt": 3, "distance": 1445.0, "no": 19}, {"schdep": "22:10", "day": 2, "scharr": "22:00", "station": {"lat": 19.8390022, "lng": 79.3634517, "code": "BPQ", "name": "BALHARSHAH"}, "halt": 10, "distance": 1459.0, "no": 20}, {"schdep": "23:00", "day": 2, "scharr": "22:59", "station": {"lat": 19.3581456, "lng": 79.4823339, "code": "SKZR", "name": "SIRPUR KAGAZNGR"}, "halt": 1, "distance": 1529.0, "no": 21}, {"schdep": "00:03", "day": 3, "scharr": "00:02", "station": {"lat": 18.7518652, "lng": 79.5133701, "code": "RDM", "name": "RAMGUNDAM"}, "halt": 1, "distance": 1601.0, "no": 22}, {"schdep": "01:40", "day": 3, "scharr": "01:35", "station": {"lat": 17.9689008, "lng": 79.59405439999999, "code": "WL", "name": "WARANGAL"}, "halt": 5, "distance": 1701.0, "no": 23}, {"schdep": "06:15", "day": 3, "scharr": "06:05", "station": {"lat": 16.5061743, "lng": 80.6480153, "code": "BZA", "name": "VIJAYAWADA JN"}, "halt": 10, "distance": 1908.0, "no": 24}, {"schdep": "08:15", "day": 3, "scharr": "08:14", "station": {"lat": 15.5057232, "lng": 80.049922, "code": "OGL", "name": "ONGOLE"}, "halt": 1, "distance": 2046.0, "no": 25}, {"schdep": "10:00", "day": 3, "scharr": "09:59", "station": {"lat": 14.4425987, "lng": 79.98645599999999, "code": "NLR", "name": "NELLORE"}, "halt": 1, "distance": 2162.0, "no": 26}, {"schdep": "10:50", "day": 3, "scharr": "10:48", "station": {"lat": 14.1463188, "lng": 79.8503887, "code": "GDR", "name": "GUDUR JN"}, "halt": 2, "distance": 2200.0, "no": 27}, {"schdep": "13:55", "day": 3, "scharr": "13:30", "station": {"lat": 13.0821888, "lng": 80.2755083, "code": "MAS", "name": "CHENNAI CENTRAL"}, "halt": 25, "distance": 2338.0, "no": 28}, {"schdep": "14:55", "day": 3, "scharr": "14:53", "station": {"lat": 13.0752392, "lng": 79.6558242, "code": "AJJ", "name": "ARAKKONAM"}, "halt": 2, "distance": 2413.0, "no": 29}, {"schdep": "15:50", "day": 3, "scharr": "15:48", "station": {"lat": 12.9796167, "lng": 79.1375374, "code": "KPD", "name": "KATPADI JN"}, "halt": 2, "distance": 2473.0, "no": 30}, {"schdep": "17:30", "day": 3, "scharr": "17:25", "station": {"lat": 12.5540754, "lng": 78.5717631, "code": "JTJ", "name": "JOLARPETTAI"}, "halt": 5, "distance": 2557.0, "no": 31}, {"schdep": "18:00", "day": 3, "scharr": "17:59", "station": {"lat": 12.7470314, "lng": 78.33301569999999, "code": "KPN", "name": "KUPPAM"}, "halt": 1, "distance": 2601.0, "no": 32}, {"schdep": "18:35", "day": 3, "scharr": "18:34", "station": {"lat": 12.9914907, "lng": 78.1787597, "code": "BWT", "name": "BANGARAPET"}, "halt": 1, "distance": 2635.0, "no": 33}, {"schdep": "19:30", "day": 3, "scharr": "19:29", "station": {"lat": 13.0040167, "lng": 77.6877765, "code": "KJM", "name": "KRISHNARAJAPURM"}, "halt": 1, "distance": 2691.0, "no": 34}, {"schdep": "19:45", "day": 3, "scharr": "19:43", "station": {"lat": 13.0013838, "lng": 77.61829139999999, "code": "BNCE", "name": "BANGALORE EAST"}, "halt": 2, "distance": 2698.0, "no": 35}, {"schdep": "20:00", "day": 3, "scharr": "19:58", "station": {"lat": 12.9715987, "lng": 77.5945627, "code": "BNC", "name": "BANGALORE CANT"}, "halt": 2, "distance": 2701.0, "no": 36}, {"schdep": "DEST", "day": 3, "scharr": "20:20", "station": {"lat": 12.9781291, "lng": 77.5695295, "code": "SBC", "name": "KSR BENGALURU"}, "halt": -1, "distance": 2705.0, "no": 37}], "train": {"number": "12296", "name": "PNBE-SBC SANGHMITRA EXP.", "days": [{"code": "MON", "runs": "Y"}, {"code": "TUE", "runs": "Y"}, {"code": "WED", "runs": "Y"}, {"code": "THU", "runs": "Y"}, {"code": "FRI", "runs": "Y"}, {"code": "SAT", "runs": "Y"}, {"code": "SUN", "runs": "Y"}], "classes": [{"code": "CC", "available": "N", "name": "AC CHAIR CAR"}, {"code": "2S", "available": "N", "name": "SECOND SEATING"}, {"code": "SL", "available": "Y", "name": "SLEEPER CLASS"}, {"code": "1A", "available": "N", "name": "FIRST AC"}, {"code": "2A", "available": "Y", "name": "SECOND AC"}, {"code": "3A", "available": "Y", "name": "THIRD AC"}, {"code": "3E", "available": "N", "name": "3rd AC ECONOMY"}, {"code": "FC", "available": "N", "name": "FIRST CLASS"}]}, "debit": 1}
      document.getElementById("display").innerHTML = myobject.train.name;
      document.getElementById("number").innerHTML = myobject.train.route.station.name;
      console.log(myobject.route);
    }
  };
  xhttp.open("GET", uri, true);
  xhttp.send();
}